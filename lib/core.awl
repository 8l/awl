(global nil {})

(macro func (f b)
    {global @(first f) (fn (@(tail f)) (@b))})

(func (nil? x) (== x nil))

(func (do & l)
    (if (nil? l)
        nil
        (last l)))

(func (reduce f l acc)
    (if (nil? l)
        acc
        (reduce f (tail l) (f acc (head l)))))
